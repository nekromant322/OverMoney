persistentVolumeClaim:
  requestsStorage: 1Gi

service:
  port: 9092
  targetPort: 9092

deployment:
  replicas: 1
  containers:
    image: confluentinc/cp-kafka
    imageTag: 7.0.1
    containerPort: 9092
    env:
      - name: KAFKA_BROKER_ID
        value: "1"
      - name: KAFKA_ZOOKEEPER_CONNECT
        value: 'zookeeper-service:2181'
      - name: KAFKA_LISTENER_SECURITY_PROTOCOL_MAP
        value: PLAINTEXT:PLAINTEXT,PLAINTEXT_INTERNAL:PLAINTEXT
      - name: KAFKA_ADVERTISED_LISTENERS
        value: PLAINTEXT://:29092,PLAINTEXT_INTERNAL://kafka-service:9092
      - name: KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR
        value: "1"
      - name: KAFKA_TRANSACTION_STATE_LOG_MIN_ISR
        value: "1"
      - name: KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR
        value: "1"
    volumeMountPath: /var/lib/kafka/logs
  priorityClassName: qa-priority-class